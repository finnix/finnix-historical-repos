#!/bin/sh

# notfound
# Copyright (C) 2011 Ryan Finnie
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along
# with this program; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

WHAT="$1"
if [ -z "$WHAT" ]; then
  echo "Usage: notfound <program> [arguments]"
  exit 1
fi
shift

FOUNDPATH="$(which $WHAT)"
FOUNDRES=$?

[ $FOUNDRES -eq 0 ] && exec $FOUNDPATH "$@"

if [ "$WHAT" = "aptitude" ]; then
  cat <<EOM

Aptitude is not included due to size constraints.  To install, type
"apt-get install aptitude".

EOM
  exit 1
fi

if [ "$WHAT" = "lynx" ]; then
  cat <<EOM

"lynx" is not included by default.  Please use "elinks" instead, or to
install, type "apt-get install lynx".

EOM
  exit 1
fi

if [ "$WHAT" = "links" ]; then
  cat <<EOM

"links" is not included by default.  Please use "elinks" instead, or to
install, type "apt-get install links".

EOM
  exit 1
fi

if [ "$WHAT" = "ftp" ]; then
  cat <<EOM

"ftp" is not included by default.  Please use "lftp" instead, or to
install, type "apt-get install ftp".

EOM
  exit 1
fi

# If all else fails...
cat <<EOM

"$WHAT" is not included by default, and I don't know what it is specifically.
Try "apt-get search $WHAT" to find what you want, then
"apt-get install PACKAGE" to install what you find.

EOM
exit 1

